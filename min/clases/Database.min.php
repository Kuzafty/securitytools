<?php class Database{private $host;private $db_name;private $username;private $password;public $conn;public $exception;public function __construct($host,$db_name,$username,$password){$this->host=$host;$this->db_name=$db_name;$this->username=$username;$this->password=$password;return $this->connect();}private function connect(){$this->conn=null;try{$this->conn=new \PDO("mysql:host=".$this->host.";dbname=".$this->db_name,$this->username,$this->password);$this->conn->setAttribute(\PDO::ATTR_ERRMODE,\PDO::ERRMODE_EXCEPTION);return true;}catch(\PDOException $e){$this->exception=$e;return false;}}public function query($sql,$params=array()){try{$stmt=$this->conn->prepare($sql);$stmt->execute($params);$result=$stmt->fetchAll(\PDO::FETCH_ASSOC);return $result;}catch(\PDOException $e){$this->exception=$e;return false;}}public function querySingle($sql,$params=array()){try{$stmt=$this->conn->prepare($sql);$stmt->execute($params);$result=$stmt->fetch(\PDO::FETCH_ASSOC);return $result;}catch(\PDOException $e){$this->exception=$e;return false;}}public function queryFetchObject($sql,$params=array()){try{$stmt=$this->conn->prepare($sql);$stmt->execute($params);$result=$stmt->fetchAll(\PDO::FETCH_OBJ);return $result;}catch(\PDOException $e){$this->exception=$e;return false;}}public function queryFetchNum($sql,$params=array()){try{$stmt=$this->conn->prepare($sql);$stmt->execute($params);$result=$stmt->fetchAll(\PDO::FETCH_NUM);return $result;}catch(\PDOException $e){$this->exception=$e;return false;}}public function queryFetchBoth($sql,$params=array()){try{$stmt=$this->conn->prepare($sql);$stmt->execute($params);$result=$stmt->fetchAll(\PDO::FETCH_BOTH);return $result;}catch(\PDOException $e){$this->exception=$e;return false;}}} ?>