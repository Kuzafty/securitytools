<?php class Report{public static function handleException($exception,$safePage,$errorFolder){$errorHash=md5($exception->getMessage().$exception->getCode().$exception->getFile().$exception->getLine());if(!file_exists($errorFolder.'/'.$errorHash.'.json')){$errorReport=['message'=>$exception->getMessage(),'code'=>$exception->getCode(),'file'=>$exception->getFile(),'line'=>$exception->getLine(),'trace'=>$exception->getTrace(),'timestamp'=>date('Y-m-d H:i:s')];file_put_contents($errorFolder.'/'.$errorHash.'.json',json_encode($errorReport));}header('Location: '.$safePage);exit();}} ?>